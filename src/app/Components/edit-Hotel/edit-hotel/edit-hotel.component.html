<div class="container mt-5">
  <h2 id="hotel-form-title" class="mb-4 fw-medium">Edit Hotel</h2>

  <form (ngSubmit)="updateHotel(hotel)" #hotelForm="ngForm">
    <div class="card mb-4">
      <div class="card-header main-color-bg text-white">Basic Information</div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="nameEn" class="form-label">Name (English)</label>
            <input
              type="text"
              class="form-control"
              id="nameEn"
              name="nameEn"
              [(ngModel)]="hotel.name.en"
              required
            />
          </div>
          <div class="col-md-6 mb-3">
            <label for="nameAr" class="form-label">Name (Arabic)</label>
            <input
              type="text"
              class="form-control"
              id="nameAr"
              name="nameAr"
              [(ngModel)]="hotel.name.ar"
              required
            />
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="descriptionEn" class="form-label">Description (English)</label>
            <textarea
              class="form-control"
              id="descriptionEn"
              name="descriptionEn"
              [(ngModel)]="hotel.description.en"
              required
            ></textarea>
          </div>
          <div class="col-md-6">
            <label for="descriptionAr" class="form-label">Description (Arabic)</label>
            <textarea
              class="form-control"
              id="descriptionAr"
              name="descriptionAr"
              [(ngModel)]="hotel.description.ar"
              required
            ></textarea>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="subDescriptionEn" class="form-label">Sub Description (English)</label>
            <textarea
              class="form-control"
              id="subDescriptionEn"
              name="subDescriptionEn"
              [(ngModel)]="hotel.subDescription.en"
              required
            ></textarea>
          </div>
          <div class="col-md-6">
            <label for="subDescriptionAr" class="form-label">Sub Description (Arabic)</label>
            <textarea
              class="form-control"
              id="subDescriptionAr"
              name="subDescriptionAr"
              [(ngModel)]="hotel.subDescription.ar"
              required
            ></textarea>
          </div>
        </div>

        <div class="mb-3">
          <label for="phone" class="form-label">Phone</label>
          <input
            type="tel"
            class="form-control"
            id="phone"
            name="phone"
            [(ngModel)]="hotel.phone"
            required
          />
        </div>
      </div>
    </div>

    <div class="card mb-4">
      <div class="card-header main-color-bg text-white">Location</div>
      <div class="card-body">
        <div class="mb-3">
          <label for="addressEn" class="form-label">Address (English)</label>
          <input
            type="text"
            class="form-control"
            id="addressEn"
            name="addressEn"
            [(ngModel)]="hotel.location.Address.en"
            required
          />
        </div>
        <div class="mb-3">
          <label for="addressAr" class="form-label">Address (Arabic)</label>
          <input
            type="text"
            class="form-control"
            id="addressAr"
            name="addressAr"
            [(ngModel)]="hotel.location.Address.ar"
            required
          />
        </div>
      </div>
    </div>

    <div class="card mb-4">
      <div class="card-header main-color-bg text-white">House Rules</div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-4 mb-3">
            <div class="form-check">
              <input
                class="form-check-input border-black"
                type="checkbox"
                id="noSmoking"
                name="noSmoking"
                [(ngModel)]="hotel.HouseRules.NoSmoking"
              />
              <label class="form-check-label" for="noSmoking">No Smoking</label>
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <div class="form-check">
              <input
                class="form-check-input border-black"
                type="checkbox"
                id="noPets"
                name="noPets"
                [(ngModel)]="hotel.HouseRules.NoPets"
              />
              <label class="form-check-label" for="noPets">No Pets</label>
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <div class="form-check">
              <input
                class="form-check-input border-black"
                type="checkbox"
                id="noParties"
                name="noParties"
                [(ngModel)]="hotel.HouseRules.NoParties"
              />
              <label class="form-check-label" for="noParties">No Parties</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="checkInTime" class="form-label">Check-in Time</label>
            <input
              type="time"
              class="form-control"
              id="checkInTime"
              name="checkInTime"
              [(ngModel)]="hotel.CheckInTime"
            />
          </div>
          <div class="col-md-6 mb-3">
            <label for="checkOutTime" class="form-label">Check-out Time</label>
            <input
              type="time"
              class="form-control"
              id="checkOutTime"
              name="checkOutTime"
              [(ngModel)]="hotel.CheckOutTime"
            />
          </div>
        </div>

        <div class="mb-3">
          <label for="pricePerNight" class="form-label">Price per Night (EGP)</label>
          <input
            type="number"
            class="form-control"
            id="pricePerNight"
            name="pricePerNight"
            [(ngModel)]="hotel.PricePerNight"
            min="1"
          />
        </div>

        <p class="card-header fw-medium fs-5">Cancellation</p>
        <div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="cancellationPolicyEn" class="form-label">Cancellation Policy (English)</label>
              <textarea
                class="form-control"
                id="cancellationPolicyEn"
                name="cancellationPolicyEn"
                [(ngModel)]="hotel.HouseRules.Cancellation.Policy.en"
              ></textarea>
            </div>
            <div class="col-md-6 mb-3">
              <label for="cancellationPolicyAr" class="form-label">Cancellation Policy (Arabic)</label>
              <textarea
                class="form-control"
                id="cancellationPolicyAr"
                name="cancellationPolicyAr"
                [(ngModel)]="hotel.HouseRules.Cancellation.Policy.ar"
              ></textarea>
            </div>
          </div>

          <div class="row align-items-center">
            <div class="col-md-6 mb-3">
              <div class="form-check">
                <input
                  class="form-check-input border-black"
                  type="checkbox"
                  id="refundable"
                  name="refundable"
                  [(ngModel)]="hotel.HouseRules.Cancellation.Refundable"
                />
                <label class="form-check-label" for="refundable">Money is Refundable</label>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="deadlineDays" class="form-label">Deadline Days</label>
              <input
                type="number"
                class="form-control"
                id="deadlineDays"
                name="deadlineDays"
                [(ngModel)]="hotel.HouseRules.Cancellation.DeadlineDays"
                min="0"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="card mb-4">
      <div class="card-header main-color-bg text-white">Photo Upload</div>
      <div class="card-body">
        <div class="mb-3">
          <label for="imageUpload" class="form-label">Upload Hotel Photos</label>
          <input
            type="file"
            id="imageUpload"
            class="form-control"
            (change)="onFileSelect($event)"
            multiple
            accept="image/*"
          />
        </div>

        <div class="mt-3" *ngIf="imagePreviewUrls.length > 0">
          <h6>Image Previews:</h6>
          <div class="d-flex flex-wrap">
            <div *ngFor="let url of imagePreviewUrls; let i = index" class="m-2">
              <img [src]="url" alt="Preview" style="max-width: 100px; max-height: 100px;">
              <button type="button" class="btn btn-danger btn-sm mt-1" (click)="removeFile(i)">Remove</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!hotelForm.form.valid">Update Hotel</button>
  </form>
</div>